<div class="page-container">
  <div class="page-header">
    <div class="header-content">
      <h1>๐ข ุงูููุฑุฏูู</h1>
      <p class="subtitle">ุฅุฏุงุฑุฉ ุงูููุฑุฏูู ูุงูููุฑุฏูู</p>
    </div>
  </div>

  <div class="toolbar">
    <div class="search-box">
      <input 
        type="text" 
        [(ngModel)]="searchTerm" 
        (input)="filterSuppliers()"
        placeholder="ุงูุจุญุซ ูู ุงูููุฑุฏูู..."
        class="search-input"
      />
      <span class="search-icon">๐</span>
    </div>
    <button class="btn-primary" (click)="openModal()">
      โ ุฅุถุงูุฉ ููุฑุฏ
    </button>
  </div>

  <div class="warehouses-grid" *ngIf="filteredSuppliers.length > 0">
    <div class="warehouse-card" *ngFor="let supplier of filteredSuppliers">
      <div class="card-header">
        <div class="card-title">
          <h3>{{ supplier.name }}</h3>
          <span class="code-badge">{{ supplier.code }}</span>
        </div>
        <div class="card-actions">
          <button class="btn-icon" (click)="openModal(supplier)" title="ุชุนุฏูู">โ๏ธ</button>
          <button class="btn-icon" (click)="deleteSupplier(supplier.id)" title="ุญุฐู">๐๏ธ</button>
        </div>
      </div>
      
      <div class="card-body">
        <div class="info-grid">
          <div class="info-item" *ngIf="supplier.contactPerson">
            <span class="icon">๐ค</span>
            <span class="label">ุฌูุฉ ุงูุงุชุตุงู:</span>
            <span class="value">{{ supplier.contactPerson }}</span>
          </div>
          <div class="info-item" *ngIf="supplier.phone">
            <span class="icon">๐</span>
            <span class="label">ุงููุงุชู:</span>
            <span class="value">{{ supplier.phone }}</span>
          </div>
          <div class="info-item" *ngIf="supplier.email">
            <span class="icon">โ๏ธ</span>
            <span class="label">ุงูุจุฑูุฏ:</span>
            <span class="value">{{ supplier.email }}</span>
          </div>
          <div class="info-item" *ngIf="supplier.address">
            <span class="icon">๐</span>
            <span class="label">ุงูุนููุงู:</span>
            <span class="value">{{ supplier.address }}</span>
          </div>
          <div class="info-item" *ngIf="supplier.taxNumber">
            <span class="icon">๐ข</span>
            <span class="label">ุงูุฑูู ุงูุถุฑูุจู:</span>
            <span class="value">{{ supplier.taxNumber }}</span>
          </div>
          <div class="info-item" *ngIf="supplier.group">
            <span class="icon">๐</span>
            <span class="label">ุงููุฌููุนุฉ:</span>
            <span class="value">{{ supplier.group.name }}</span>
          </div>
        </div>
        
        <p class="description" *ngIf="supplier.description">{{ supplier.description }}</p>
        
        <div class="card-footer">
          <span 
            class="status-badge" 
            [class.active]="supplier.isActive"
            [class.inactive]="!supplier.isActive"
            (click)="toggleStatus(supplier)"
          >
            {{ supplier.isActive ? 'ูุดุท' : 'ุบูุฑ ูุดุท' }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="empty-state" *ngIf="filteredSuppliers.length === 0">
    <div class="empty-icon">๐ข</div>
    <h3>ูุง ุชูุฌุฏ ููุฑุฏูู</h3>
    <p>ูู ุจุฅุถุงูุฉ ุฃูู ููุฑุฏ</p>
    <button class="btn-primary" (click)="openModal()">ุฅุถุงูุฉ ููุฑุฏ</button>
  </div>
</div>

<!-- Modal -->
<div class="modal-overlay" *ngIf="showModal" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>{{ isEditMode ? 'ุชุนุฏูู ููุฑุฏ' : 'ุฅุถุงูุฉ ููุฑุฏ ุฌุฏูุฏ' }}</h2>
      <button class="btn-close" (click)="closeModal()">โ</button>
    </div>
    
    <div class="modal-body">
      <div class="form-group">
        <label>ุงุณู ุงูููุฑุฏ *</label>
        <input type="text" [(ngModel)]="currentSupplier.name" placeholder="ูุซุงู: ุดุฑูุฉ ุงูุฏูุฒู ุงููุทููุฉ" />
      </div>

      <div class="form-group">
        <label>ุงูููุฏ *</label>
        <input type="text" [(ngModel)]="currentSupplier.code" placeholder="ูุซุงู: SUP-001" />
      </div>

      <div class="form-group">
        <label>ุงููุฌููุนุฉ</label>
        <select [(ngModel)]="currentSupplier.groupId">
          <option [value]="undefined">ุงุฎุชุฑ ูุฌููุนุฉ...</option>
          <option *ngFor="let group of supplierGroups" [value]="group.id">
            {{ group.code }} - {{ group.name }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label>ุฌูุฉ ุงูุงุชุตุงู</label>
        <input type="text" [(ngModel)]="currentSupplier.contactPerson" placeholder="ูุซุงู: ุฃุญูุฏ ูุญูุฏ" />
      </div>

      <div class="form-group">
        <label>ุฑูู ุงููุงุชู</label>
        <input type="text" [(ngModel)]="currentSupplier.phone" placeholder="ูุซุงู: +966 50 123 4567" />
      </div>

      <div class="form-group">
        <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
        <input type="email" [(ngModel)]="currentSupplier.email" placeholder="ูุซุงู: info@supplier.com" />
      </div>

      <div class="form-group">
        <label>ุงูุนููุงู</label>
        <input type="text" [(ngModel)]="currentSupplier.address" placeholder="ูุซุงู: ุงูุฑูุงุถ - ุญู ุงูุตูุงุนูุฉ" />
      </div>

      <div class="form-group">
        <label>ุงูุฑูู ุงูุถุฑูุจู</label>
        <input type="text" [(ngModel)]="currentSupplier.taxNumber" placeholder="ูุซุงู: 123456789012345" />
      </div>

      <div class="form-group">
        <label>ุงููุตู</label>
        <textarea [(ngModel)]="currentSupplier.description" rows="3" placeholder="ูุตู ุงูููุฑุฏ..."></textarea>
      </div>

      <div class="form-group checkbox-group">
        <label>
          <input type="checkbox" [(ngModel)]="currentSupplier.isActive" />
          <span>ูุดุท</span>
        </label>
      </div>
    </div>
    
    <div class="modal-footer">
      <button class="btn-secondary" (click)="closeModal()">ุฅูุบุงุก</button>
      <button class="btn-primary" (click)="saveSupplier()">
        {{ isEditMode ? 'ุชุญุฏูุซ' : 'ุญูุธ' }}
      </button>
    </div>
  </div>
</div>
