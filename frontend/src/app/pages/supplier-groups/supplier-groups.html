<div class="page-container">
  <div class="page-header">
    <div class="header-content">
      <h1>๐ ูุฌููุนุงุช ุงูููุฑุฏูู</h1>
      <p>ุฅุฏุงุฑุฉ ูุฌููุนุงุช ุงูููุฑุฏูู ูุงูุญุณุงุจุงุช ุงููุฑุชุจุทุฉ</p>
    </div>
  </div>

  <div class="toolbar">
    <div class="search-box">
      <input 
        type="text" 
        [(ngModel)]="searchTerm" 
        (input)="filterSupplierGroups()"
        placeholder="ุงูุจุญุซ ูู ูุฌููุนุงุช ุงูููุฑุฏูู..."
        class="search-input">
      <span class="search-icon">๐</span>
    </div>
    <button class="btn-primary" (click)="openModal()">
      โ ุฅุถุงูุฉ ูุฌููุนุฉ
    </button>
  </div>

  <div class="warehouse-groups-grid">
    <div *ngFor="let group of filteredSupplierGroups" class="warehouse-group-card">
      <div class="card-header">
        <h3>{{ group.name }}</h3>
        <div class="card-actions">
          <button class="btn-icon" (click)="openModal(group)" title="ุชุนุฏูู">โ๏ธ</button>
          <button class="btn-icon" (click)="deleteSupplierGroup(group.id!)" title="ุญุฐู">๐๏ธ</button>
        </div>
      </div>
      <div class="card-body">
        <div class="info-row">
          <span class="label">ุงูููุฏ:</span>
          <span class="value code-badge">{{ group.code }}</span>
        </div>
        <div class="info-row" *ngIf="group.account">
          <span class="label">ุงูุญุณุงุจ ุงููุฑุชุจุท:</span>
          <span class="value">{{ group.account.code }} - {{ group.account.name }}</span>
        </div>
        <div class="info-row" *ngIf="group.suppliers && group.suppliers.length > 0">
          <span class="label">ุนุฏุฏ ุงูููุฑุฏูู:</span>
          <span class="value badge">{{ group.suppliers.length }}</span>
        </div>
        <div class="info-row" *ngIf="group.description">
          <span class="label">ุงููุตู:</span>
          <span class="value">{{ group.description }}</span>
        </div>
      </div>
      <div class="card-footer">
        <span class="status-badge" [class.active]="group.isActive">
          {{ group.isActive ? 'ูุดุท' : 'ุบูุฑ ูุดุท' }}
        </span>
      </div>
    </div>
  </div>

  <div *ngIf="filteredSupplierGroups.length === 0" class="empty-state">
    <p>ูุง ุชูุฌุฏ ูุฌููุนุงุช ููุฑุฏูู</p>
  </div>
</div>

<!-- Modal -->
<div class="modal-overlay" *ngIf="showModal" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>{{ isEditMode ? 'ุชุนุฏูู ูุฌููุนุฉ' : 'ุฅุถุงูุฉ ูุฌููุนุฉ ุฌุฏูุฏุฉ' }}</h2>
      <button class="btn-close" (click)="closeModal()">โ</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label>ุงุณู ุงููุฌููุนุฉ *</label>
        <input 
          type="text" 
          [(ngModel)]="currentSupplierGroup.name"
          placeholder="ูุซุงู: ูุฌููุนุฉ ููุฑุฏู ุงูุฏูุฒู"
          class="form-control">
      </div>

      <div class="form-group">
        <label>ุงูููุฏ *</label>
        <input 
          type="text" 
          [(ngModel)]="currentSupplierGroup.code"
          placeholder="ูุซุงู: SG-DIESEL"
          class="form-control">
      </div>

      <div class="form-group">
        <label>ุงูุญุณุงุจ ุงููุฑุชุจุท</label>
        <select 
          [(ngModel)]="currentSupplierGroup.accountId"
          class="form-control">
          <option [ngValue]="undefined">ุงุฎุชุฑ ุญุณุงุจ...</option>
          <option *ngFor="let account of accounts" [ngValue]="account.id">
            {{ account.code }} - {{ account.name }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label>ุงููุตู</label>
        <textarea 
          [(ngModel)]="currentSupplierGroup.description"
          placeholder="ูุตู ุงููุฌููุนุฉ..."
          class="form-control"
          rows="3"></textarea>
      </div>

      <div class="form-group checkbox-group">
        <label>
          <input 
            type="checkbox" 
            [(ngModel)]="currentSupplierGroup.isActive">
          ูุดุท
        </label>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-secondary" (click)="closeModal()">ุฅูุบุงุก</button>
      <button class="btn-primary" (click)="saveSupplierGroup()">
        {{ isEditMode ? 'ุชุญุฏูุซ' : 'ุญูุธ' }}
      </button>
    </div>
  </div>
</div>
