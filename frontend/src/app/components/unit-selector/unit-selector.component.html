<div class="unit-selector">
  <div class="selector-button" (click)="toggleDropdown()">
    <div class="selector-content">
      <div class="selector-icon">๐ข</div>
      <div class="selector-text">
        <div class="selector-label">ุงููุญุฏุฉ ุงูุญุงููุฉ</div>
        <div class="selector-value">{{ selectedUnit?.name || 'ุฌุงุฑู ุงูุชุญููู...' }}</div>
      </div>
      <div class="selector-arrow" [class.open]="isDropdownOpen">โผ</div>
    </div>
  </div>

  <div class="dropdown-menu" *ngIf="isDropdownOpen">
    <div class="dropdown-header">
      <span>ุงุฎุชุฑ ุงููุญุฏุฉ</span>
      <button class="close-btn" (click)="toggleDropdown()">โ</button>
    </div>
    
    <div class="units-list">
      <div 
        *ngFor="let unit of units" 
        class="unit-item"
        [class.selected]="selectedUnit && unit.id === selectedUnit.id"
        (click)="selectUnit(unit)">
        
        <div class="unit-info">
          <div class="unit-name">
            <span class="unit-icon">๐ข</span>
            {{ unit.name }}
          </div>
          <div class="unit-code">{{ unit.code }}</div>
        </div>
        
        <div class="unit-modules">
          <div class="modules-count">
            {{ getModuleCount(unit) }} ูุญุฏุงุช ูุดุทุฉ
          </div>
          <div class="modules-icons">
            <span 
              *ngFor="let module of unit.activeModules" 
              class="module-icon"
              [title]="getModuleName(module)">
              {{ getModuleIcon(module) }}
            </span>
          </div>
        </div>
        
        <div class="check-icon" *ngIf="selectedUnit && unit.id === selectedUnit.id">โ</div>
      </div>
    </div>
  </div>
</div>

<div class="overlay" *ngIf="isDropdownOpen" (click)="toggleDropdown()"></div>
