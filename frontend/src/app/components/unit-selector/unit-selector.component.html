<div class="unit-selector">
  <div class="selector-button" (click)="toggleDropdown()">
    <div class="selector-content">
      <div class="selector-icon">ğŸ¢</div>
      <div class="selector-text">
        <div class="selector-label">Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</div>
        <div class="selector-value">{{ selectedUnit.name }}</div>
      </div>
      <div class="selector-arrow" [class.open]="isDropdownOpen">â–¼</div>
    </div>
  </div>

  <div class="dropdown-menu" *ngIf="isDropdownOpen">
    <div class="dropdown-header">
      <span>Ø§Ø®ØªØ± Ø§Ù„ÙˆØ­Ø¯Ø©</span>
      <button class="close-btn" (click)="toggleDropdown()">âœ•</button>
    </div>
    
    <div class="units-list">
      <div 
        *ngFor="let unit of units" 
        class="unit-item"
        [class.selected]="unit.id === selectedUnit.id"
        (click)="selectUnit(unit)">
        
        <div class="unit-info">
          <div class="unit-name">
            <span class="unit-icon">ğŸ¢</span>
            {{ unit.name }}
          </div>
          <div class="unit-code">{{ unit.code }}</div>
        </div>
        
        <div class="unit-modules">
          <div class="modules-count">
            {{ getModuleCount(unit) }} ÙˆØ­Ø¯Ø§Øª Ù†Ø´Ø·Ø©
          </div>
          <div class="modules-icons">
            <span 
              *ngFor="let module of unit.activeModules" 
              class="module-icon"
              [title]="getModuleName(module)">
              {{ getModuleIcon(module) }}
            </span>
          </div>
        </div>
        
        <div class="check-icon" *ngIf="unit.id === selectedUnit.id">âœ“</div>
      </div>
    </div>
  </div>
</div>

<div class="overlay" *ngIf="isDropdownOpen" (click)="toggleDropdown()"></div>
